Вот файл `README.md`, который описывает работу сервера, реализованного в `server.go`:

```markdown
# Candy Vending Machine Server

Этот проект реализует сервер для автоматического вендинг-машины конфет, который принимает запросы на покупку конфет и возвращает информацию о возврате сдачи или ошибках, если что-то пошло не так.

## Описание

Сервер обрабатывает HTTP POST-запросы на маршрут `/buy_candy`, который принимает JSON-данные с информацией о покупке конфет. Сервер поддерживает TLS для защиты данных, и для аутентификации клиента требуется сертификат.

## Структура проекта

- `server.go`: Основной файл с реализацией сервера и обработчиком запросов.

## Функциональность

1. **Получение цены конфет**: В зависимости от типа конфет сервер определяет цену.
2. **Обработка запросов**: Сервер принимает JSON-запросы с данными о конфетах и деньгах, проверяет корректность данных и возвращает ответ с информацией о сдаче или ошибке.
3. **TLS-аутентификация**: Сервер настроен на работу с TLS, требует и проверяет клиентские сертификаты.

## Зависимости

- Go 1.18+
- TLS сертификаты для защищенного соединения

## Конфигурация

### Сертификаты

Сервер использует сертификаты для TLS, которые хранятся в директории `../certs/candy.tld/`:
- `cert.pem` — Сертификат сервера.
- `key.pem` — Ключ сервера.
- `cert.pem` — Сертификат CA (корневого удостоверяющего центра), используемый для проверки клиентских сертификатов.

### Запуск сервера

Для запуска сервера выполните команду:

```bash
go run server.go
```

Сервер будет слушать на порту 3333.

## Формат запроса

Запрос должен быть отправлен методом POST на маршрут `/buy_candy` с телом в формате JSON. Пример запроса:

```json
{
    "money": 50,
    "candyType": "CE",
    "candyCount": 3
}
```

- `money`: Количество денег, переданных в запросе.
- `candyType`: Тип конфет (например, "CE").
- `candyCount`: Количество конфет для покупки.

## Ответы сервера

- **200 OK**: Возвращается, если запрос корректен и конфеты куплены успешно. В ответе содержится информация о сдаче и благодарности.

    ```json
    {
        "change": 10,
        "thanks": "Thank you!"
    }
    ```

- **400 Bad Request**: Возвращается, если тип конфет неверный или количество конфет отрицательное.

    ```json
    {
        "error": "Wrong candy type!"
    }
    ```

- **402 Payment Required**: Возвращается, если недостаточно денег для покупки.

    ```json
    {
        "error": "You need 10 more money!"
    }
    ```

- **405 Method Not Allowed**: Возвращается, если метод запроса не POST.

## Примечания

- Убедитесь, что сертификаты и ключи для TLS настроены правильно и находятся в указанной директории.
- Сервер требует действительный клиентский сертификат для подключения.
```

Этот файл `README.md` предоставляет все необходимые детали для понимания и использования сервера, а также инструкции по запуску и конфигурации.